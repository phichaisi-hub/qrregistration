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

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

CREATE TABLE IF NOT EXISTS `registrations` (
  `id` INT AUTO_INCREMENT PRIMARY KEY,
  `registration_id` VARCHAR(50) NOT NULL UNIQUE,          -- เลขลงทะเบียน (เช่น REG-170325001)
  `timestamp` DATETIME DEFAULT CURRENT_TIMESTAMP,         -- วันเวลาที่ส่งแบบฟอร์ม
  `company_name` VARCHAR(255) NOT NULL,                  -- ชื่อบริษัท
  `event_name` VARCHAR(255) NOT NULL,                    -- ชื่องานแสดงที่เข้าทำงาน
  `booth_number` VARCHAR(50),                            -- หมายเลขบูธ
  `purpose` TEXT,                                        -- วัตถุประสงค์ในการเข้าดำเนินการ
  `entry_datetime` DATETIME,                             -- วันเวลาเข้างาน (ตามที่ระบุในฟอร์ม)
  `ticket_count` INT DEFAULT 1,                          -- จำนวนบัตรเข้างานที่ต้องการ
  `contact_name` VARCHAR(255) NOT NULL,                  -- ชื่อ นามสกุลผู้ติดต่อ
  `email` VARCHAR(100) NOT NULL,                         -- Email
  `phone` VARCHAR(20),                                   -- เบอร์ติดต่อ
  `consent_status` TINYINT(1) DEFAULT 0,                 -- สถานะยินยอม (0=ไม่, 1=ยินยอม)
  `email_sent_status` ENUM('Pending', 'Sent', 'Failed') DEFAULT 'Pending', -- สถานะการส่ง QR
  `attendance` DATETIME DEFAULT NULL                     -- วันเวลาที่สแกนเข้างาน (ว่างถ้ายังไม่สแกน)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;